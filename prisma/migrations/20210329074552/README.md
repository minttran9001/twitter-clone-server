# Migration `20210329074552`

This migration has been generated by Mint Project at 3/29/2021, 2:45:52 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Following" ALTER COLUMN "followId" DROP NOT NULL

ALTER TABLE "public"."Following" ADD FOREIGN KEY("followId")REFERENCES "public"."User"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210326125253-change-tweet-files-type..20210329074552
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Tweet {
   id        Int          @id @default(autoincrement())
@@ -27,8 +27,9 @@
   Profile    Profile?
   likedTweet LikedTweet[]
   comments   Comment[]
   Following  Following[]
+  followed   Following[] @relation("followed")
 }
 model LikedTweet {
   id      Int      @id @default(autoincrement())
@@ -39,14 +40,16 @@
   tweetId Int
 }
 model Following {
-  id       Int    @id @default(autoincrement())
-  name     String
-  avatar   String
-  followId Int
-  User     User?  @relation(fields: [userId], references: [id])
-  userId   Int?
+  id           Int    @id @default(autoincrement())
+  name         String
+  avatar       String
+  followId     Int?
+  userId       Int?
+  UserFollowed User?  @relation("followed",fields: [followId], references: [id])
+  User         User?  @relation(fields: [userId], references: [id])
+
 }
 model Profile {
   id        Int      @id @default(autoincrement())
```


